{"ast":null,"code":"import interact from \"interactjs\";\nexport default {\n  props: {\n    windowId: String,\n    nameOfWindow: String,\n    content_padding_left: {\n      required: false,\n      type: String,\n      default: \"15%\"\n    },\n    content_padding_right: {\n      required: false,\n      type: String,\n      default: \"15%\"\n    },\n    content_padding_top: {\n      required: false,\n      type: String,\n      default: \"5%\"\n    },\n    content_padding_bottom: {\n      required: false,\n      type: String,\n      default: \"5%\"\n    },\n    image_preview: {\n      required: false,\n      type: String,\n      default: \"\"\n    }\n  },\n  data: function () {\n    return {\n      // ID Name of window (important)\n      ComponentName: this.nameOfWindow,\n      // window\n      Window: {},\n      dragOption: {\n        modifiers: [interact.modifiers.restrictRect({\n          restriction: \"#screen\",\n          endOnly: true\n        })],\n        allowFrom: \"#top-bar\"\n      },\n      // values for interact.js transformation\n      x: 0,\n      y: 0,\n      tempX: 0,\n      tempY: 0,\n      w: 0,\n      h: 0,\n      windows: this.$store.getters.getPhotos,\n      gridHeight: \"\",\n      // previewImage: this.image_preview,\n      images: this.$store.getters.getPhotoFolderContent,\n      currentIndex: 0\n    };\n  },\n  mounted() {},\n  computed: {\n    style() {\n      return {\n        height: `${this.h}px`,\n        width: `${this.w}px`,\n        transform: `translate(${this.x}px, ${this.y}px)`,\n        \"--content-padding-left\": this.content_padding_left || \"15%\",\n        \"--content-padding-right\": this.content_padding_right || \"15%\",\n        \"--content-padding-top\": this.content_padding_top || \"5%\",\n        \"--content-padding-bottom\": this.content_padding_bottom || \"5%\",\n        \"--fullscreen\": this.$store.getters.getFullscreenWindowHeight\n      };\n    },\n    currentImage() {\n      return this.images[this.currentIndex];\n    }\n  },\n  created() {\n    this.window = this.$store.getters.getWindowById(this.ComponentName);\n  },\n  methods: {\n    // functions to interact with window state\n    prevImage() {\n      this.currentIndex = this.currentIndex === 0 ? this.images.length - 1 : this.currentIndex - 1;\n    },\n    nextImage() {\n      this.currentIndex = this.currentIndex === this.images.length - 1 ? 0 : this.currentIndex + 1;\n    },\n    closeWindow() {\n      const payload = {\n        windowState: \"close\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    openWindow() {\n      const payload = {\n        windowState: \"open\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    minimizeWindow() {\n      const payload = {\n        windowState: \"minimize\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    toggleWindowSize() {\n      if (this.$store.getters.getWindowFullscreen(this.ComponentName) == true) {\n        const payload = {\n          fullscreen: false,\n          windowID: this.ComponentName\n        };\n        this.$store.commit(\"setFullscreen\", payload);\n        this.x = this.tempX;\n        this.y = this.tempY;\n      } else if (this.$store.getters.getWindowFullscreen(this.ComponentName) == false) {\n        const payload = {\n          fullscreen: true,\n          windowID: this.ComponentName\n        };\n        this.$store.commit(\"setFullscreen\", payload);\n        const tempX = this.x;\n        const tempY = this.y;\n        this.tempX = tempX;\n        this.tempY = tempY;\n        this.x = 0;\n        this.y = 0;\n      }\n    },\n    setActiveWindow() {\n      this.$store.commit(\"zIndexIncrement\", this.ComponentName);\n      this.$store.commit(\"setActiveWindow\", this.ComponentName);\n    },\n    // drag events\n\n    dragmove(event) {\n      this.x += event.dx;\n      this.y += event.dy;\n      this.setActiveWindow();\n    },\n    resizemove(event) {\n      this.w = event.rect.width;\n      this.h = event.rect.height;\n      this.x += event.deltaRect.left;\n      this.y += event.deltaRect.top;\n    }\n  }\n};","map":{"version":3,"names":["interact","props","windowId","String","nameOfWindow","content_padding_left","required","type","default","content_padding_right","content_padding_top","content_padding_bottom","image_preview","data","ComponentName","Window","dragOption","modifiers","restrictRect","restriction","endOnly","allowFrom","x","y","tempX","tempY","w","h","windows","$store","getters","getPhotos","gridHeight","images","getPhotoFolderContent","currentIndex","mounted","computed","style","height","width","transform","getFullscreenWindowHeight","currentImage","created","window","getWindowById","methods","prevImage","length","nextImage","closeWindow","payload","windowState","windowID","commit","openWindow","minimizeWindow","toggleWindowSize","getWindowFullscreen","fullscreen","setActiveWindow","dragmove","event","dx","dy","resizemove","rect","deltaRect","left","top"],"sources":["src/components/template/ImagePreviewWindow.vue"],"sourcesContent":["<template>\r\n  <interact\r\n    draggable\r\n    :dragOption=\"dragOption\"\r\n    class=\"window window-style\"\r\n    :style=\"style\"\r\n    @dragmove=\"dragmove\"\r\n    @resizemove=\"resizemove\"\r\n    @click.native=\"setActiveWindow\"\r\n    :class=\"{\r\n      fullscreen: $store.getters.getWindowFullscreen(this.ComponentName),\r\n      minimize:\r\n        $store.getters.getWindowById(ComponentName).windowState == 'minimize',\r\n    }\"\r\n  >\r\n    <div\r\n      class=\"top-bar-window\"\r\n      :class=\"\r\n        $store.getters.getActiveWindow == this.ComponentName\r\n          ? 'top-bar'\r\n          : 'top-bar-deactivated'\r\n      \"\r\n      id=\"top-bar\"\r\n      @dblclick=\"toggleWindowSize\"\r\n    >\r\n      <div class=\"window-name\">\r\n        <img\r\n          class=\"icon-image\"\r\n          :src=\"require('@/assets/win95Icons/' + this.window.iconImage)\"\r\n          :alt=\"this.window.altText\"\r\n        />{{ currentImage.title }}\r\n      </div>\r\n      <!-- <div class=\"window-name\">{{this.window.displayName}}</div> -->\r\n      <div class=\"triple-button\">\r\n        <!-- <button class=\"minimize-button button\" @click=\"minimizeWindow\">\r\n                        <span style=\"height: 2px; width: 6px; background: black; margin-top: 8px; margin-right: 2px;\">\r\n                        </span>\r\n                    </button> -->\r\n        <button class=\"expand-button button\" @click=\"toggleWindowSize\">\r\n          <span\r\n            style=\"\r\n              height: 8px;\r\n              width: 9px;\r\n              border-left: black 1px solid;\r\n              border-right: black 1px solid;\r\n              border-left: black 1px solid;\r\n              border-bottom: black 1px solid;\r\n              border-top: black 2px solid;\r\n            \"\r\n          >\r\n          </span>\r\n        </button>\r\n        <button\r\n          class=\"close-button button\"\r\n          style=\"margin-right: 3px; padding-left: 1px\"\r\n          @click=\"closeWindow\"\r\n        >\r\n          Ã—\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"carousel\">\r\n        <button class=\"arrow\" @click=\"prevImage()\">&#9664;</button>\r\n        <div class=\"image-container\">\r\n          <img :src=\"currentImage.src\" :alt=\"currentImage.altText\" />\r\n        </div>\r\n        <button class=\"arrow\" @click=\"nextImage()\">&#9654;</button>\r\n      </div>\r\n    </div>\r\n  </interact>\r\n</template>\r\n\r\n<style scoped>\r\n.carousel {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.image-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  .carousel {\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .image-container {\r\n    width: 100px !important;\r\n    height: 60% !important;\r\n  }\r\n}\r\n\r\n.image-container img {\r\n  height: 100%;\r\n}\r\n\r\n@media only screen and (min-width: 600px) {\r\n  .image-container img {\r\n    max-width: 100%;\r\n  }\r\n}\r\n\r\n.arrow {\r\n  padding: 5px;\r\n  background: rgb(195, 195, 195);\r\n  border-top: solid rgb(250, 250, 250) 1px;\r\n  border-left: solid rgb(250, 250, 250) 1px;\r\n  border-right: solid rgb(90, 90, 90) 1px;\r\n  border-bottom: solid rgb(90, 90, 90) 1px;\r\n  box-shadow: 1px 1px black;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n}\r\n\r\n.arrow:active {\r\n  border-radius: 0px;\r\n  background: rgb(192, 192, 192);\r\n  box-shadow: none;\r\n  border-top: solid rgb(0, 0, 0) 1.5px;\r\n  border-left: solid rgb(0, 0, 0) 1.5px;\r\n  border-bottom: solid rgb(250, 250, 250) 1.5px;\r\n  border-right: solid rgb(250, 250, 250) 1.5px;\r\n}\r\n\r\n/*-------------------------------------------*\\\r\n                Windows/Display\r\n            \\*-------------------------------------------*/\r\n\r\n.minimize {\r\n  display: none;\r\n}\r\n\r\n.preview-image {\r\n  height: 100%;\r\n}\r\n\r\n.window {\r\n  box-sizing: border-box;\r\n  padding: 0px;\r\n  margin: 0px;\r\n  user-select: none;\r\n  -ms-touch-action: none;\r\n  touch-action: none;\r\n  flex-flow: column;\r\n  display: flex;\r\n  min-height: 500px;\r\n  min-width: 600px;\r\n  flex-direction: column;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  .window {\r\n    min-height: 70vh;\r\n    min-width: 80vw;\r\n  }\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  overflow-x: hidden;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n}\r\n\r\n/*-------------------------------------------*\\\r\n                Top Bar\r\n            \\*-------------------------------------------*/\r\n\r\n.top-bar {\r\n  background: rgb(0, 0, 124);\r\n}\r\n\r\n.fullscreen {\r\n  width: 100% !important;\r\n  height: var(--fullscreen) !important;\r\n  margin: 0;\r\n  transition: all 0.5s ease;\r\n  padding: 0;\r\n}\r\n\r\n.icon-image {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.top-bar-window {\r\n  display: flex;\r\n  width: auto;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: row;\r\n  z-index: 10;\r\n  margin: 2px;\r\n  padding: 2px 2px 2px 2px;\r\n}\r\n\r\n.top-bar-deactivated {\r\n  background: rgb(123, 125, 123);\r\n}\r\n\r\n.top-bar:hover {\r\n  cursor: default;\r\n}\r\n\r\n.window-name {\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 500;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  margin: 0 0 0 3px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.icon-image {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-right: 5px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  overflow-x: hidden;\r\n  padding-right: var(--content-padding-right);\r\n  padding-left: var(--content-padding-left);\r\n  padding-top: var(--content-padding-top);\r\n  padding-bottom: var(--content-padding-bottom);\r\n}\r\n</style>\r\n\r\n<script>\r\nimport interact from \"interactjs\";\r\nexport default {\r\n  props: {\r\n    windowId: String,\r\n    nameOfWindow: String,\r\n    content_padding_left: {\r\n      required: false,\r\n      type: String,\r\n      default: \"15%\",\r\n    },\r\n    content_padding_right: {\r\n      required: false,\r\n      type: String,\r\n      default: \"15%\",\r\n    },\r\n    content_padding_top: {\r\n      required: false,\r\n      type: String,\r\n      default: \"5%\",\r\n    },\r\n    content_padding_bottom: {\r\n      required: false,\r\n      type: String,\r\n      default: \"5%\",\r\n    },\r\n    image_preview: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  data: function () {\r\n    return {\r\n      // ID Name of window (important)\r\n      ComponentName: this.nameOfWindow,\r\n\r\n      // window\r\n      Window: {},\r\n\r\n      dragOption: {\r\n        modifiers: [\r\n          interact.modifiers.restrictRect({\r\n            restriction: \"#screen\",\r\n            endOnly: true,\r\n          }),\r\n        ],\r\n        allowFrom: \"#top-bar\",\r\n      },\r\n      // values for interact.js transformation\r\n      x: 0,\r\n      y: 0,\r\n      tempX: 0,\r\n      tempY: 0,\r\n      w: 0,\r\n      h: 0,\r\n\r\n      windows: this.$store.getters.getPhotos,\r\n      gridHeight: \"\",\r\n\r\n      // previewImage: this.image_preview,\r\n      images: this.$store.getters.getPhotoFolderContent,\r\n      currentIndex: 0,\r\n    };\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    style() {\r\n      return {\r\n        height: `${this.h}px`,\r\n        width: `${this.w}px`,\r\n        transform: `translate(${this.x}px, ${this.y}px)`,\r\n        \"--content-padding-left\": this.content_padding_left || \"15%\",\r\n        \"--content-padding-right\": this.content_padding_right || \"15%\",\r\n        \"--content-padding-top\": this.content_padding_top || \"5%\",\r\n        \"--content-padding-bottom\": this.content_padding_bottom || \"5%\",\r\n        \"--fullscreen\": this.$store.getters.getFullscreenWindowHeight,\r\n      };\r\n    },\r\n    currentImage() {\r\n      return this.images[this.currentIndex];\r\n    },\r\n  },\r\n  created() {\r\n    this.window = this.$store.getters.getWindowById(this.ComponentName);\r\n  },\r\n  methods: {\r\n    // functions to interact with window state\r\n    prevImage() {\r\n      this.currentIndex =\r\n        this.currentIndex === 0\r\n          ? this.images.length - 1\r\n          : this.currentIndex - 1;\r\n    },\r\n    nextImage() {\r\n      this.currentIndex =\r\n        this.currentIndex === this.images.length - 1\r\n          ? 0\r\n          : this.currentIndex + 1;\r\n    },\r\n    closeWindow() {\r\n      const payload = {\r\n        windowState: \"close\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    openWindow() {\r\n      const payload = {\r\n        windowState: \"open\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    minimizeWindow() {\r\n      const payload = {\r\n        windowState: \"minimize\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    toggleWindowSize() {\r\n      if (this.$store.getters.getWindowFullscreen(this.ComponentName) == true) {\r\n        const payload = {\r\n          fullscreen: false,\r\n          windowID: this.ComponentName,\r\n        };\r\n        this.$store.commit(\"setFullscreen\", payload);\r\n        this.x = this.tempX;\r\n        this.y = this.tempY;\r\n      } else if (\r\n        this.$store.getters.getWindowFullscreen(this.ComponentName) == false\r\n      ) {\r\n        const payload = {\r\n          fullscreen: true,\r\n          windowID: this.ComponentName,\r\n        };\r\n        this.$store.commit(\"setFullscreen\", payload);\r\n        const tempX = this.x;\r\n        const tempY = this.y;\r\n        this.tempX = tempX;\r\n        this.tempY = tempY;\r\n        this.x = 0;\r\n        this.y = 0;\r\n      }\r\n    },\r\n\r\n    setActiveWindow() {\r\n      this.$store.commit(\"zIndexIncrement\", this.ComponentName);\r\n      this.$store.commit(\"setActiveWindow\", this.ComponentName);\r\n    },\r\n\r\n    // drag events\r\n\r\n    dragmove(event) {\r\n      this.x += event.dx;\r\n      this.y += event.dy;\r\n      this.setActiveWindow();\r\n    },\r\n\r\n    resizemove(event) {\r\n      this.w = event.rect.width;\r\n      this.h = event.rect.height;\r\n\r\n      this.x += event.deltaRect.left;\r\n      this.y += event.deltaRect.top;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}