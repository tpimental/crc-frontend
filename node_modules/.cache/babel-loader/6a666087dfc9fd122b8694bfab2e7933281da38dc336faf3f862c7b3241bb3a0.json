{"ast":null,"code":"import interact from \"interactjs\";\nexport default {\n  props: {\n    windowId: String,\n    nameOfWindow: String,\n    content_padding_left: {\n      required: false,\n      type: String,\n      default: \"15%\"\n    },\n    content_padding_right: {\n      required: false,\n      type: String,\n      default: \"15%\"\n    },\n    content_padding_top: {\n      required: false,\n      type: String,\n      default: \"5%\"\n    },\n    content_padding_bottom: {\n      required: false,\n      type: String,\n      default: \"5%\"\n    }\n  },\n  data: function () {\n    return {\n      // ID Name of window (important)\n      ComponentName: this.nameOfWindow,\n      // window\n      Window: {},\n      // InteractJS states and modifiers\n      // resizeOption: {\n      //     edges: {\n      //         top: true,\n      //         left: true,\n      //         bottom: true,\n      //         right: true\n      //     },\n      //     margin: 8,\n      //     modifiers: [\n      //         interact.modifiers.restrictRect({\n      //             restriction: '#screen'\n      //         })\n      //     ],\n      // },\n      dragOption: {\n        modifiers: [interact.modifiers.restrictRect({\n          restriction: \"#screen\",\n          endOnly: true\n        })],\n        allowFrom: \"#top-bar\"\n      },\n      // values for interact.js transformation\n      x: 0,\n      y: 0,\n      tempX: 0,\n      tempY: 0,\n      w: 400,\n      h: 400\n    };\n  },\n  computed: {\n    style() {\n      return {\n        height: `${this.h}px`,\n        width: `${this.w}px`,\n        transform: `translate(${this.x}px, ${this.y}px)`,\n        \"--content-padding-left\": this.content_padding_left || \"15%\",\n        \"--content-padding-right\": this.content_padding_right || \"15%\",\n        \"--content-padding-top\": this.content_padding_top || \"5%\",\n        \"--content-padding-bottom\": this.content_padding_bottom || \"5%\",\n        \"--fullscreen\": this.$store.getters.getFullscreenWindowHeight\n      };\n    }\n  },\n  created() {\n    this.window = this.$store.getters.getWindowById(this.ComponentName);\n  },\n  methods: {\n    // functions to interact with window state\n\n    closeWindow() {\n      const payload = {\n        windowState: \"close\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    openWindow() {\n      const payload = {\n        windowState: \"open\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    minimizeWindow() {\n      const payload = {\n        windowState: \"minimize\",\n        windowID: this.ComponentName\n      };\n      this.$store.commit(\"setWindowState\", payload);\n    },\n    toggleWindowSize() {\n      if (this.$store.getters.getWindowFullscreen(this.ComponentName) == true) {\n        const payload = {\n          fullscreen: false,\n          windowID: this.ComponentName\n        };\n        this.$store.commit(\"setFullscreen\", payload);\n        this.x = this.tempX;\n        this.y = this.tempY;\n      } else if (this.$store.getters.getWindowFullscreen(this.ComponentName) == false) {\n        const payload = {\n          fullscreen: true,\n          windowID: this.ComponentName\n        };\n        this.$store.commit(\"setFullscreen\", payload);\n        const tempX = this.x;\n        const tempY = this.y;\n        this.tempX = tempX;\n        this.tempY = tempY;\n        this.x = 0;\n        this.y = 0;\n      }\n    },\n    setActiveWindow() {\n      this.$store.commit(\"zIndexIncrement\", this.ComponentName);\n      this.$store.commit(\"setActiveWindow\", this.ComponentName);\n    },\n    // drag events\n\n    dragmove(event) {\n      this.x += event.dx;\n      this.y += event.dy;\n      this.setActiveWindow();\n    },\n    resizemove(event) {\n      this.w = event.rect.width;\n      this.h = event.rect.height;\n      this.x += event.deltaRect.left;\n      this.y += event.deltaRect.top;\n    }\n  }\n};","map":{"version":3,"names":["interact","props","windowId","String","nameOfWindow","content_padding_left","required","type","default","content_padding_right","content_padding_top","content_padding_bottom","data","ComponentName","Window","dragOption","modifiers","restrictRect","restriction","endOnly","allowFrom","x","y","tempX","tempY","w","h","computed","style","height","width","transform","$store","getters","getFullscreenWindowHeight","created","window","getWindowById","methods","closeWindow","payload","windowState","windowID","commit","openWindow","minimizeWindow","toggleWindowSize","getWindowFullscreen","fullscreen","setActiveWindow","dragmove","event","dx","dy","resizemove","rect","deltaRect","left","top"],"sources":["src/components/template/Window.vue"],"sourcesContent":["<template>\r\n  <interact\r\n    draggable\r\n    :dragOption=\"dragOption\"\r\n    resizable\r\n    :resizeOption=\"resizeOption\"\r\n    class=\"window window-style\"\r\n    :style=\"style\"\r\n    @dragmove=\"dragmove\"\r\n    @resizemove=\"resizemove\"\r\n    @click.native=\"setActiveWindow\"\r\n    :class=\"{\r\n      fullscreen: $store.getters.getWindowFullscreen(this.ComponentName),\r\n      minimize:\r\n        $store.getters.getWindowById(ComponentName).windowState == 'minimize',\r\n    }\"\r\n  >\r\n    <div\r\n      class=\"top-bar-window\"\r\n      :class=\"\r\n        $store.getters.getActiveWindow == this.ComponentName\r\n          ? 'top-bar'\r\n          : 'top-bar-deactivated'\r\n      \"\r\n      id=\"top-bar\"\r\n      @dblclick=\"toggleWindowSize\"\r\n    >\r\n      <div class=\"window-name\">\r\n        <img\r\n          class=\"icon-image\"\r\n          :src=\"require('@/assets/win95Icons/' + this.window.iconImage)\"\r\n          :alt=\"window.altText\"\r\n        />{{ this.window.displayName }}\r\n      </div>\r\n      <!-- <div class=\"window-name\">{{this.window.displayName}}</div> -->\r\n      <div class=\"triple-button\">\r\n        <button class=\"minimize-button button\" @click=\"minimizeWindow\">\r\n          <span\r\n            style=\"\r\n              height: 2px;\r\n              width: 6px;\r\n              background: black;\r\n              margin-top: 8px;\r\n              margin-right: 2px;\r\n            \"\r\n          >\r\n          </span>\r\n        </button>\r\n        <button class=\"expand-button button\" @click=\"toggleWindowSize\">\r\n          <span\r\n            style=\"\r\n              height: 8px;\r\n              width: 9px;\r\n              border-left: black 1px solid;\r\n              border-right: black 1px solid;\r\n              border-left: black 1px solid;\r\n              border-bottom: black 1px solid;\r\n              border-top: black 2px solid;\r\n            \"\r\n          >\r\n          </span>\r\n        </button>\r\n        <button\r\n          class=\"close-button button\"\r\n          style=\"margin-right: 3px; padding-left: 1px\"\r\n          @click=\"closeWindow\"\r\n        >\r\n          Ã—\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <slot class=\"window-content\" name=\"content\"> </slot>\r\n    </div>\r\n  </interact>\r\n</template>\r\n\r\n<style scoped>\r\n/*-------------------------------------------*\\\r\n    Windows/Display\r\n\\*-------------------------------------------*/\r\n\r\n.minimize {\r\n  display: none;\r\n}\r\n\r\n.window {\r\n  box-sizing: border-box;\r\n  padding: 0px;\r\n  margin: 0px;\r\n  user-select: none;\r\n  -ms-touch-action: none;\r\n  touch-action: none;\r\n  flex-flow: column;\r\n  display: flex;\r\n}\r\n\r\n.fullscreen {\r\n  width: 100% !important;\r\n  height: var(--fullscreen) !important;\r\n  margin: 0;\r\n  transition: all 0.5s ease;\r\n  padding: 0;\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  overflow-x: hidden;\r\n  padding-right: var(--content-padding-right);\r\n  padding-left: var(--content-padding-left);\r\n  padding-top: var(--content-padding-top);\r\n  padding-bottom: var(--content-padding-bottom);\r\n}\r\n\r\n/*-------------------------------------------*\\\r\n    Top Bar\r\n\\*-------------------------------------------*/\r\n\r\n.top-bar {\r\n  background: rgb(0, 0, 124);\r\n}\r\n\r\n.icon-image {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.top-bar-window {\r\n  display: flex;\r\n  width: auto;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: row;\r\n  z-index: 10;\r\n  margin: 2px;\r\n  padding: 2px 2px 2px 2px;\r\n}\r\n\r\n.top-bar-deactivated {\r\n  background: rgb(123, 125, 123);\r\n}\r\n\r\n.top-bar:hover {\r\n  cursor: default;\r\n}\r\n\r\n.window-name {\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 500;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  margin: 0 0 0 3px;\r\n}\r\n\r\n.icon-image {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-right: 5px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport interact from \"interactjs\";\r\nexport default {\r\n  props: {\r\n    windowId: String,\r\n    nameOfWindow: String,\r\n    content_padding_left: {\r\n      required: false,\r\n      type: String,\r\n      default: \"15%\",\r\n    },\r\n    content_padding_right: {\r\n      required: false,\r\n      type: String,\r\n      default: \"15%\",\r\n    },\r\n    content_padding_top: {\r\n      required: false,\r\n      type: String,\r\n      default: \"5%\",\r\n    },\r\n    content_padding_bottom: {\r\n      required: false,\r\n      type: String,\r\n      default: \"5%\",\r\n    },\r\n  },\r\n  data: function () {\r\n    return {\r\n      // ID Name of window (important)\r\n      ComponentName: this.nameOfWindow,\r\n\r\n      // window\r\n      Window: {},\r\n\r\n      // InteractJS states and modifiers\r\n      // resizeOption: {\r\n      //     edges: {\r\n      //         top: true,\r\n      //         left: true,\r\n      //         bottom: true,\r\n      //         right: true\r\n      //     },\r\n      //     margin: 8,\r\n      //     modifiers: [\r\n      //         interact.modifiers.restrictRect({\r\n      //             restriction: '#screen'\r\n      //         })\r\n      //     ],\r\n      // },\r\n      dragOption: {\r\n        modifiers: [\r\n          interact.modifiers.restrictRect({\r\n            restriction: \"#screen\",\r\n            endOnly: true,\r\n          }),\r\n        ],\r\n        allowFrom: \"#top-bar\",\r\n      },\r\n      // values for interact.js transformation\r\n      x: 0,\r\n      y: 0,\r\n      tempX: 0,\r\n      tempY: 0,\r\n      w: 400,\r\n      h: 400,\r\n    };\r\n  },\r\n  computed: {\r\n    style() {\r\n      return {\r\n        height: `${this.h}px`,\r\n        width: `${this.w}px`,\r\n        transform: `translate(${this.x}px, ${this.y}px)`,\r\n        \"--content-padding-left\": this.content_padding_left || \"15%\",\r\n        \"--content-padding-right\": this.content_padding_right || \"15%\",\r\n        \"--content-padding-top\": this.content_padding_top || \"5%\",\r\n        \"--content-padding-bottom\": this.content_padding_bottom || \"5%\",\r\n        \"--fullscreen\": this.$store.getters.getFullscreenWindowHeight,\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    this.window = this.$store.getters.getWindowById(this.ComponentName);\r\n  },\r\n  methods: {\r\n    // functions to interact with window state\r\n\r\n    closeWindow() {\r\n      const payload = {\r\n        windowState: \"close\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    openWindow() {\r\n      const payload = {\r\n        windowState: \"open\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    minimizeWindow() {\r\n      const payload = {\r\n        windowState: \"minimize\",\r\n        windowID: this.ComponentName,\r\n      };\r\n      this.$store.commit(\"setWindowState\", payload);\r\n    },\r\n\r\n    toggleWindowSize() {\r\n      if (this.$store.getters.getWindowFullscreen(this.ComponentName) == true) {\r\n        const payload = {\r\n          fullscreen: false,\r\n          windowID: this.ComponentName,\r\n        };\r\n        this.$store.commit(\"setFullscreen\", payload);\r\n        this.x = this.tempX;\r\n        this.y = this.tempY;\r\n      } else if (\r\n        this.$store.getters.getWindowFullscreen(this.ComponentName) == false\r\n      ) {\r\n        const payload = {\r\n          fullscreen: true,\r\n          windowID: this.ComponentName,\r\n        };\r\n        this.$store.commit(\"setFullscreen\", payload);\r\n        const tempX = this.x;\r\n        const tempY = this.y;\r\n        this.tempX = tempX;\r\n        this.tempY = tempY;\r\n        this.x = 0;\r\n        this.y = 0;\r\n      }\r\n    },\r\n\r\n    setActiveWindow() {\r\n      this.$store.commit(\"zIndexIncrement\", this.ComponentName);\r\n      this.$store.commit(\"setActiveWindow\", this.ComponentName);\r\n    },\r\n\r\n    // drag events\r\n\r\n    dragmove(event) {\r\n      this.x += event.dx;\r\n      this.y += event.dy;\r\n      this.setActiveWindow();\r\n    },\r\n\r\n    resizemove(event) {\r\n      this.w = event.rect.width;\r\n      this.h = event.rect.height;\r\n\r\n      this.x += event.deltaRect.left;\r\n      this.y += event.deltaRect.top;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}